{
  "permissions": {
    "allow": [
      "Bash(node:*)",
      "Bash(npm:*)",
      "Bash(pip3:*)",
      "Bash(git --version)",
      "Bash(nginx:*)",
      "Bash(pm2:*)",
      "Bash(cat:*)",
      "Bash(sudo apt:*)",
      "Bash(sudo apt install:*)",
      "Bash(chmod:*)",
      "Bash(./start.sh:*)",
      "Bash(curl:*)",
      "Bash(ls:*)",
      "Bash(./stop.sh)",
      "Bash(pkill:*)",
      "Bash(ufw status:*)",
      "Bash(ss:*)",
      "Bash(ufw allow:*)",
      "Bash(wget:*)",
      "Bash(dmidecode:*)",
      "Bash(apt:*)",
      "Bash(apt install:*)",
      "Bash(systemctl start:*)",
      "Bash(systemctl:*)",
      "Bash(sudo -u postgres:*)",
      "Bash(source:*)",
      "Bash(pip install:*)",
      "Bash(sqlite3:*)",
      "Bash(python3:*)",
      "Bash(python:*)",
      "Bash(kill:*)",
      "Bash(rm:*)",
      "Bash(pgrep:*)",
      "Bash(iptables:*)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"ALTER TABLE grants ADD COLUMN IF NOT EXISTS status VARCHAR DEFAULT ''active'';\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"UPDATE grants SET status = ''active'' WHERE status IS NULL;\")",
      "Bash(./restart_backend.sh:*)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"SELECT id, name, status FROM grants LIMIT 3;\")",
      "Bash(PORT=3001 npm run dev)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"SELECT g.id, g.name, g.status FROM grants g WHERE g.id = 1;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\n\\dt\nSELECT ''transactions'' as table_name, column_name, data_type FROM information_schema.columns WHERE table_name = ''transactions'' AND table_schema = ''public''\nUNION ALL\nSELECT ''grants'' as table_name, column_name, data_type FROM information_schema.columns WHERE table_name = ''grants'' AND table_schema = ''public''\nUNION ALL\nSELECT ''budget_items'' as table_name, column_name, data_type FROM information_schema.columns WHERE table_name = ''budget_items'' AND table_schema = ''public''\nUNION ALL\nSELECT ''allocations'' as table_name, column_name, data_type FROM information_schema.columns WHERE table_name = ''allocations'' AND table_schema = ''public''\nORDER BY table_name, column_name;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT table_name FROM information_schema.tables WHERE table_schema = ''public'' ORDER BY table_name;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT column_name, data_type, is_nullable FROM information_schema.columns \nWHERE table_name = ''transactions'' AND table_schema = ''public'' \nORDER BY ordinal_position;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT column_name, data_type, is_nullable FROM information_schema.columns \nWHERE table_name = ''allocations'' AND table_schema = ''public'' \nORDER BY ordinal_position;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT column_name, data_type, is_nullable FROM information_schema.columns \nWHERE table_name = ''budget_items'' AND table_schema = ''public'' \nORDER BY ordinal_position;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT column_name, data_type, is_nullable FROM information_schema.columns \nWHERE table_name = ''grants'' AND table_schema = ''public'' \nORDER BY ordinal_position;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT \n  t.id as transaction_id,\n  t.description,\n  a.amount as allocated_amount,\n  bi.name as budget_item_name,\n  bi.category,\n  g.name as grant_name,\n  g.status as grant_status\nFROM transactions t\nLEFT JOIN allocations a ON t.id = a.transaction_id\nLEFT JOIN budget_items bi ON a.budget_item_id = bi.id\nLEFT JOIN grants g ON bi.grant_id = g.id\nWHERE a.id IS NOT NULL\nLIMIT 5;\n\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"SELECT id, name, status FROM grants ORDER BY id;\")",
      "Bash(journalctl:*)",
      "Bash(grep:*)",
      "Bash(true)",
      "Bash(sudo:*)",
      "Bash(rg:*)",
      "Bash(/root/nagaiku-budget/backend/restart_backend.sh:*)",
      "WebFetch(domain:160.251.170.97)",
      "Bash(touch:*)",
      "Bash(find:*)",
      "Bash(psql:*)",
      "Bash(export PGPASSWORD=nagaiku_password2024)",
      "Bash(cp:*)",
      "Bash(tar:*)",
      "Bash(uvicorn:*)",
      "Bash(/home/tanaka/nagaiku-budget-dev/start_dev.sh:*)",
      "Bash(/home/tanaka/nagaiku-budget-dev/stop_dev.sh:*)",
      "Bash(npx tsc:*)",
      "Bash(sed:*)",
      "Bash(BACKUP_DIR=/home/tanaka/backups/20250709_090937)",
      "Bash(mkdir:*)",
      "Bash(echo \"Created backup directory: $BACKUP_DIR\")",
      "Bash(echo:*)",
      "Bash(du:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git branch:*)",
      "Bash(git checkout:*)",
      "Bash(git revert:*)",
      "Bash(bash:*)",
      "Bash(git gc:*)",
      "Bash(fuser:*)",
      "Bash(git stash:*)",
      "Bash(git push:*)",
      "Bash(./pre_deploy_check.sh:*)",
      "Bash(./stop_dev.sh:*)",
      "Bash(./safe_deploy_enhanced.sh)",
      "Bash(./deploy_no_sudo.sh:*)",
      "Bash(NODE_ENV=production npm run build)",
      "Bash(./start_dev_tmux.sh:*)",
      "Bash(tmux attach:*)",
      "Bash(tmux list-sessions:*)",
      "Bash(tmux capture-pane:*)",
      "Bash(tmux kill-session:*)",
      "Bash(tmux list-panes:*)",
      "Bash(tmux send-keys:*)",
      "Bash(./stop_development.sh:*)",
      "Bash(tmux list-windows:*)",
      "Bash(tmux new-session:*)",
      "Bash(tmux new-window:*)",
      "Bash(./build_production.sh:*)",
      "Bash(certbot:*)",
      "Bash(./start_development.sh:*)",
      "Bash(ping:*)",
      "Bash(nslookup:*)",
      "WebFetch(domain:developer.freee.co.jp)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"\nSELECT column_name, data_type, is_nullable FROM information_schema.columns \nWHERE table_name = ''transactions'' AND table_schema = ''public'' \nORDER BY ordinal_position;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"SELECT date, description, amount, account, supplier, item, memo FROM transactions LIMIT 5;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget_dev -c \"SELECT column_name, data_type FROM information_schema.columns WHERE table_name = ''transactions'' AND table_schema = ''public'' ORDER BY ordinal_position;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget_dev -c \"ALTER TABLE transactions ADD COLUMN IF NOT EXISTS freee_deal_id BIGINT;\")",
      "Bash(git fetch:*)",
      "Bash(git pull:*)",
      "Bash(. venv/bin/activate)",
      "Bash(export ENVIRONMENT=production)",
      "Bash(export PORT=8000)",
      "Bash(export DATABASE_URL=postgresql://nagaiku_user:nagaiku_password2024@localhost:5432/nagaiku_budget)",
      "Bash(. backend/venv/bin/activate)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -h localhost -U nagaiku_user -d nagaiku_budget -c \"SELECT column_name, data_type FROM information_schema.columns WHERE table_name = ''transactions'' AND column_name = ''freee_deal_id'';\")",
      "Bash(./restart_services.sh)",
      "Bash(diff:*)",
      "Bash(./start_dev_next_time.sh:*)",
      "Bash(git remote set-url:*)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -c \"\\d transactions\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -c \"SELECT COUNT(*) as total_transactions, COUNT(freee_deal_id) as with_freee_id FROM transactions;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget_dev -c \"SELECT COUNT(*) as total_transactions, COUNT(freee_deal_id) as with_freee_id FROM transactions;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -c \"SELECT id, account_pattern, wam_category, priority FROM wam_mappings WHERE id = 9;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget_dev -c \"SELECT id, account_pattern, wam_category, priority FROM wam_mappings WHERE id = 9;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -c \"TRUNCATE TABLE wam_mappings RESTART IDENTITY CASCADE;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -f /tmp/wam_mappings_dev.sql)",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget -c \"SELECT COUNT(*) as prod_count FROM wam_mappings;\")",
      "Bash(PGPASSWORD=nagaiku_password2024 psql -U nagaiku_user -h localhost -d nagaiku_budget_dev -c \"SELECT COUNT(*) as dev_count FROM wam_mappings;\")",
      "WebFetch(domain:nagaiku.top)",
      "Bash(pwdx:*)",
      "Bash(./start_dev_backend.sh:*)",
      "Bash(git restore:*)",
      "Bash(mv:*)",
      "Bash(NODE_ENV=production node -e \"console.log(''NODE_ENV:'', process.env.NODE_ENV); console.log(''NEXT_PUBLIC_API_URL:'', process.env.NEXT_PUBLIC_API_URL);\")",
      "Bash(tmux ls:*)",
      "Bash(tmux kill-window:*)",
      "Bash(crontab:*)",
      "Bash(/home/tanaka/nagaiku-budget/scripts/daily_backup.sh:*)",
      "Bash(/home/tanaka/nagaiku-budget/scripts/weekly_git_cleanup.sh:*)"
    ],
    "deny": []
  }
}